# That Girls Oasis TeleBot

Часть коммерческого FullStack проекта That Girls Oasis - телеграм бот, в основе которого лежит мощная стейт машина - паттерн "State" в связке с Redis и с элементами многопотока.
Стейт машина позволила добиться **максимально** быстрого отклика в условиях одновременно возможных 50+ состояний.

Вторая часть проекта - это [сайт регистрации на офлайн мероприятия](https://github.com/Nikidzawa/That_Girls_Oasis_Site), который был реализован в виде app внутри бота

## Основные функции
* Создание анкеты (анкета сохраняется в базу данных только после ввода всех данных и после подтверждения со стороны пользователя)
* Изменение анкеты. Возможность изменения конкретных данных или всей анкеты сразу (кэш настроен так же, как и в случае с созданием)
* Интеграция Яндекс и Big Data API с созданием динамического пула api ключей для прямого и обратного геокодирования местоположения. Это означает, что даже если пользователь напишет в анкете Питер, система поймет, что он из Санкт-Петербурга.
* Выстроен алгоритм рекомендаций на основании возраста и физической близости (определяется по широте и долготе, вычисляется с помощью формулы гаверсинуса)
* Если во время создания анкеты человек отправил свою геолокацию, то во время поиска анкет, бот будет показывать примерное расстояние до людей, которые так же отправили свою геолокацию
* Система лайков, оповещений и писем с поддержкой наиболее популярных форматов (Текстовые сообщения, фото, видео, голосовые и кружки)
* Возможность пользователям отправлять жалобы на других пользователей и сообщать об ошибках
* Блок FAQ с ответами на наиболее популярные вопросы
* Отслеживание состояния пользователя в группе
* Создан функционал для администраторов

**Функции администратора**
1. Администратор может посмотреть краткий отчёт по пользователям и на основании этого, например, создавать мероприятия
2. Администратору доступны функции блокировки или помилования пользователей исходя из жалоб
3. Просмотр отчетов об ошибках

## Стек
* Java 21
* Spring Boot
* JPA + JPQL
* PostgreSQL
* Redis
* Jackson
* Lombok
* Docker

## API
* Open Street Map (прямое геокодирование)
* Яндекс Карты (обратное геокодирование)